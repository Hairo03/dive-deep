@model Booking

@{
    var today = DateTime.Today.ToString("yyyy-MM-dd");
}

<form asp-controller="booking" asp-action="index" method="post">
    <input type="hidden" asp-for="Id" />

    <h1>@Model.Product.Name</h1>

    <label>Start date:</label>
    <input asp-for="StartDate" 
           type="date" 
           min="@today" 
           value="@Model.StartDate.ToString("yyyy-MM-dd")" />

    <label>End date:</label>
    <input asp-for="EndDate" 
           type="date" 
           min="@Model.StartDate.ToString("yyyy-MM-dd")"
           value="@Model.StartDate.ToString()" />

    <button type="submit">Book</button>
</form>

@section Scripts{
    <script>
        const startDateInput = document.getElementById("StartDate");
        const endDateInput = document.getElementById("EndDate");

        startDateInput.addEventListener("change", function () {
   
            endDateInput.min = this.value;

         
            if (endDateInput.value < this.value) {
                endDateInput.value = this.value;
            }
        });
    </script>
}
